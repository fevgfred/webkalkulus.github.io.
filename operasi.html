<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous">
      <link rel="stylesheet" href="gaya.css" />
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>.: WEB PROJEK KALKULUS :.</title>
  </head>
  <body style="background-color: moccasin">
    <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">Home</a>
            <a class="navbar-brand badge bg-light text-dark" aria-current="page" href="#">Operasi</a>
            <a class="navbar-brand" href="profil.html">Profil</a>
          </div>
        </div>
      </div>
    </nav>
    <div class="row">
      <div class="col-sm-12">
    <h1 class="ml3" align="center">OPERASI</h1>
  </div>
  </div>
    <header>
    <div class="container mt-5">
      <h1 class="ml2">Grafik Linear</h1>

      <div class="form-group">
          <label for="inputSlope">Masukkan kemiringan (a):</label>
          <input type="text" class="form-control" id="inputSlope" placeholder="Contoh 2">
      </div>

      <div class="form-group">
          <label for="inputIntercept">Masukkan perpotongan (b):</label>
          <input type="text" class="form-control" id="inputIntercept" placeholder="Contoh 1">
      </div>

      <div id="liveAlertPlaceholder"></div>
      <button class="btn btn-primary mb-3" onclick="tampilkanGrafik()" id="liveAlertBtn">Tampilkan Grafik</button>

      <div class="mt-3">
          <div id="grafikLinear"></div>
      </div>
  </div>
  
</header>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
  <script>
      function tampilkanGrafik() {
          var inputSlope = parseFloat(document.getElementById("inputSlope").value);
          var inputIntercept = parseFloat(document.getElementById("inputIntercept").value);

          var x = [];
          var y = [];

          for (var i = -10; i <= 10; i++) {
              x.push(i);
              y.push(inputSlope * i + inputIntercept);
          }

          var trace = {
              x: x,
              y: y,
              type: 'scatter',
              mode: 'lines',
              line: {
                  color: 'blue',
              },
          };

          var layout = {
              title: 'Grafik Linear',
              xaxis: {
                  title: 'x'
              },
              yaxis: {
                  title: 'y'
              }
          };

          Plotly.newPlot('grafikLinear', [trace], layout);
      }

          const alertPlaceholder = document.getElementById('liveAlertPlaceholder')
    const appendAlert = (message, type) => {
      const wrapper = document.createElement('div')
      wrapper.innerHTML = [
        `<div class="alert alert-${type} alert-dismissible" role="alert">`,
        `   <div>${message}</div>`,
        '</div>'
      ].join('')

      alertPlaceholder.append(wrapper)
    }

    const alertTrigger = document.getElementById('liveAlertBtn')
    if (alertTrigger) {
      alertTrigger.addEventListener('click', () => {
        appendAlert('Persamaan yang didapat yaitu f(x)= '+ document.getElementById('inputSlope').value +'x + ' + document.getElementById('inputIntercept').value, 'success')
      })
    }
  </script>
  </body>
</html>
